<!DOCTYPE html>
<html>
 
<head>
    <meta charset="utf-8" />
    <title>ARTG5330 Homework | Spring 2022</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  
  <body>
    <h1 id="title">Welcome!</h1>
    <a href="/index.html">Back to Home</a>
    <svg id="rectCanvas"></svg> 

     <script>
        // Data
        var data2010 = [
            {
                country: "usa",
                value: 20
            },
            {
                country: "chn",
                value: 25
            },
            {
                country: "itl",
                value: 15
            }
        ];

        var data2015 = [
            {
                country: "usa",
                value: 30
            },
            {
                country: "chn",
                value: 40
            },
            {
                country: "itl",
                value: 20
            },
        ];

        function drawRect(dataArray) {
            
            var rect = d3.select("#rectCanvas")
            .selectAll("rect")
            .data(dataArray, function(currentDataPoint) {
                console.log(currentDataPoint.country);
                return currentDataPoint.country;
            });
            
            rect
                .transition()
                .duration(1000)
                .attr("x", function(d){
                    return d.value * 5;
                })
                .attr("height", function(d){
                    return d.value;
                })
                .attr("width", function(d){
                    return d.value;
                })
                .attr("fill", "black")
                ;

            rect.enter().append("rect")
                .attr("class", "myRect")
                .attr("x", function(d){
                    return d.value * 10;
                })
                .attr("height", function(d){
                    return d.value;
                })
                .attr("width", function(d){
                    return d.value;
                })
                .attr("fill","blue")
                .transition()
                .duration(1000)

            rect.exit()
            .transition().duration(1000)
            .attr("height", 0)
            .attr("fill","green")
            .remove();
        }
        drawRect(data2010);

    </script>
    </body>
</html>